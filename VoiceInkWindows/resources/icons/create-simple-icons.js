/**
 * Create simple icon files for VoiceInk Windows
 * Creates minimal PNG headers that work for system tray
 */

const fs = require('fs')
const path = require('path')

// Simple 1x1 transparent PNG
const simplePNG = Buffer.from([
  0x89, 0x50, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A, // PNG signature
  0x00, 0x00, 0x00, 0x0D, // IHDR chunk size
  0x49, 0x48, 0x44, 0x52, // IHDR
  0x00, 0x00, 0x00, 0x10, // Width: 16
  0x00, 0x00, 0x00, 0x10, // Height: 16
  0x08, 0x06, 0x00, 0x00, 0x00, // Bit depth, color type, etc.
  0x1F, 0xF3, 0xFF, 0x61, // CRC
  0x00, 0x00, 0x00, 0x0A, // IDAT chunk size
  0x49, 0x44, 0x41, 0x54, // IDAT
  0x78, 0x9C, 0x63, 0x00, 0x01, 0x00, 0x00, 0x05, 0x00, 0x01, // Minimal compressed data
  0x0D, 0x0A, 0x2D, 0xB4, // CRC
  0x00, 0x00, 0x00, 0x00, // IEND chunk size
  0x49, 0x45, 0x4E, 0x44, // IEND
  0xAE, 0x42, 0x60, 0x82  // CRC
])

// Create the icon files
const icons = [
  { name: 'tray.png', buffer: simplePNG },
  { name: 'icon.png', buffer: simplePNG },
  { name: 'icon.ico', buffer: simplePNG }
]

icons.forEach(icon => {
  fs.writeFileSync(path.join(__dirname, icon.name), icon.buffer)
  console.log(`Created ${icon.name}`)
})

console.log('Simple icon files created successfully!')